<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BinaryLiterals #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK prune #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Address</span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Address</span></span><span>
</span><span id="line-16"></span><span>      </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier">Address</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#PaymentAddress"><span class="hs-identifier">PaymentAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#StakeAddress"><span class="hs-identifier">StakeAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#DelegationAddress"><span class="hs-identifier">DelegationAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#PointerAddress"><span class="hs-identifier">PointerAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier">ChainPointer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#unsafeMkAddress"><span class="hs-identifier">unsafeMkAddress</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#unAddress"><span class="hs-identifier">unAddress</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Conversion From / To Text</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#base58"><span class="hs-identifier">base58</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#fromBase58"><span class="hs-identifier">fromBase58</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#bech32"><span class="hs-identifier">bech32</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#bech32With"><span class="hs-identifier">bech32With</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#fromBech32"><span class="hs-identifier">fromBech32</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>      </span><span class="hs-comment">-- Internal / Network Discrimination</span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#HasNetworkDiscriminant"><span class="hs-identifier">HasNetworkDiscriminant</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#AddressDiscrimination"><span class="hs-identifier">AddressDiscrimination</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier">NetworkTag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#invariantSize"><span class="hs-identifier">invariantSize</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.html#invariantNetworkTag"><span class="hs-identifier">invariantNetworkTag</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html"><span class="hs-identifier">Cardano.Address.Derivation</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#Depth"><span class="hs-identifier">Depth</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#XPub"><span class="hs-identifier">XPub</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Codec.Cbor.html"><span class="hs-identifier">Cardano.Codec.Cbor</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Codec.Cbor.html#decodeAddress"><span class="hs-identifier">decodeAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Codec.Cbor.html#deserialiseCbor"><span class="hs-identifier">deserialiseCbor</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Binary.Bech32</span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">HumanReadablePart</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Binary.Encoding.html"><span class="hs-identifier">Codec.Binary.Encoding</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Binary.Encoding.html#AbstractEncoding"><span class="hs-identifier">AbstractEncoding</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Binary.Encoding.html#encode"><span class="hs-identifier">encode</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">NFData</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-operator">(&lt;=&lt;)</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Value</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">object</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.=)</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">testBit</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">ByteString</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Either.Extra</span></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">eitherToMaybe</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Word32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word8</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Generic</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Stack</span></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">HasCallStack</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Numeric.Natural</span></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Natural</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Codec.Bech32.Prefixes.html"><span class="hs-identifier">Cardano.Codec.Bech32.Prefixes</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CIP5</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Codec.Binary.Encoding.html"><span class="hs-identifier">Codec.Binary.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">E</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Encoding</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-comment">-- | An 'Address' type representing 'Cardano' addresses. Internals are</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- irrevelant to the user.</span><span>
</span><span id="line-82"></span><span class="hs-comment">--</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-84"></span><span id="local-6989586621679134332"><span id="local-6989586621679134333"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="Address"><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-var">Address</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Address"><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-var">Address</span></a></span></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="unAddress"><span class="annot"><span class="annottext">Address -&gt; ByteString
</span><a href="Cardano.Address.html#unAddress"><span class="hs-identifier hs-var hs-var">unAddress</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. Address -&gt; Rep Address x)
-&gt; (forall x. Rep Address x -&gt; Address) -&gt; Generic Address
forall x. Rep Address x -&gt; Address
forall x. Address -&gt; Rep Address x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Address x -&gt; Address
$cfrom :: forall x. Address -&gt; Rep Address x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134322"><span id="local-6989586621679134324"><span id="local-6989586621679134326"><span class="annot"><span class="annottext">Int -&gt; Address -&gt; ShowS
[Address] -&gt; ShowS
Address -&gt; String
(Int -&gt; Address -&gt; ShowS)
-&gt; (Address -&gt; String) -&gt; ([Address] -&gt; ShowS) -&gt; Show Address
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Address] -&gt; ShowS
$cshowList :: [Address] -&gt; ShowS
show :: Address -&gt; String
$cshow :: Address -&gt; String
showsPrec :: Int -&gt; Address -&gt; ShowS
$cshowsPrec :: Int -&gt; Address -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134317"><span id="local-6989586621679134319"><span class="annot"><span class="annottext">Address -&gt; Address -&gt; Bool
(Address -&gt; Address -&gt; Bool)
-&gt; (Address -&gt; Address -&gt; Bool) -&gt; Eq Address
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Address -&gt; Address -&gt; Bool
$c/= :: Address -&gt; Address -&gt; Bool
== :: Address -&gt; Address -&gt; Bool
$c== :: Address -&gt; Address -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134301"><span id="local-6989586621679134303"><span id="local-6989586621679134305"><span id="local-6989586621679134307"><span id="local-6989586621679134309"><span id="local-6989586621679134311"><span id="local-6989586621679134313"><span class="annot"><span class="annottext">Eq Address
Eq Address
-&gt; (Address -&gt; Address -&gt; Ordering)
-&gt; (Address -&gt; Address -&gt; Bool)
-&gt; (Address -&gt; Address -&gt; Bool)
-&gt; (Address -&gt; Address -&gt; Bool)
-&gt; (Address -&gt; Address -&gt; Bool)
-&gt; (Address -&gt; Address -&gt; Address)
-&gt; (Address -&gt; Address -&gt; Address)
-&gt; Ord Address
Address -&gt; Address -&gt; Bool
Address -&gt; Address -&gt; Ordering
Address -&gt; Address -&gt; Address
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Address -&gt; Address -&gt; Address
$cmin :: Address -&gt; Address -&gt; Address
max :: Address -&gt; Address -&gt; Address
$cmax :: Address -&gt; Address -&gt; Address
&gt;= :: Address -&gt; Address -&gt; Bool
$c&gt;= :: Address -&gt; Address -&gt; Bool
&gt; :: Address -&gt; Address -&gt; Bool
$c&gt; :: Address -&gt; Address -&gt; Bool
&lt;= :: Address -&gt; Address -&gt; Bool
$c&lt;= :: Address -&gt; Address -&gt; Bool
&lt; :: Address -&gt; Address -&gt; Bool
$c&lt; :: Address -&gt; Address -&gt; Bool
compare :: Address -&gt; Address -&gt; Ordering
$ccompare :: Address -&gt; Address -&gt; Ordering
$cp1Ord :: Eq Address
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679134298"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- Unsafe constructor for easily lifting bytes inside an 'Address'.</span><span>
</span><span id="line-90"></span><span class="hs-comment">--</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- /!\ Use at your own risks.</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Cardano.Address.html#unsafeMkAddress"><span class="hs-identifier hs-type">unsafeMkAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-93"></span><span id="unsafeMkAddress"><span class="annot"><span class="annottext">unsafeMkAddress :: ByteString -&gt; Address
</span><a href="Cardano.Address.html#unsafeMkAddress"><span class="hs-identifier hs-var hs-var">unsafeMkAddress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Address
</span><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-var">Address</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-comment">-- | Encode an 'Address' to a base58 'Text'.</span><span>
</span><span id="line-96"></span><span class="hs-comment">--</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-98"></span><span class="annot"><a href="Cardano.Address.html#base58"><span class="hs-identifier hs-type">base58</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-99"></span><span id="base58"><span class="annot"><span class="annottext">base58 :: Address -&gt; Text
</span><a href="Cardano.Address.html#base58"><span class="hs-identifier hs-var hs-var">base58</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">T.decodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text) -&gt; (Address -&gt; ByteString) -&gt; Address -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; ByteString -&gt; ByteString
</span><a href="Codec.Binary.Encoding.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding
forall a. AbstractEncoding a
</span><a href="Codec.Binary.Encoding.html#EBase58"><span class="hs-identifier hs-var">EBase58</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Address -&gt; ByteString) -&gt; Address -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Address -&gt; ByteString
</span><a href="Cardano.Address.html#unAddress"><span class="hs-identifier hs-var hs-var">unAddress</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | Decode a base58-encoded 'Text' into an 'Address'</span><span>
</span><span id="line-102"></span><span class="hs-comment">--</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-104"></span><span class="annot"><a href="Cardano.Address.html#fromBase58"><span class="hs-identifier hs-type">fromBase58</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-105"></span><span id="fromBase58"><span class="annot"><span class="annottext">fromBase58 :: Text -&gt; Maybe Address
</span><a href="Cardano.Address.html#fromBase58"><span class="hs-identifier hs-var hs-var">fromBase58</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either DeserialiseFailure Address -&gt; Maybe Address
forall a b. Either a b -&gt; Maybe b
</span><span class="hs-identifier hs-var">eitherToMaybe</span></span><span> </span><span class="annot"><span class="annottext">(Either DeserialiseFailure Address -&gt; Maybe Address)
-&gt; (ByteString -&gt; Either DeserialiseFailure Address)
-&gt; ByteString
-&gt; Maybe Address
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s Address)
-&gt; ByteString -&gt; Either DeserialiseFailure Address
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure a
</span><a href="Cardano.Codec.Cbor.html#deserialiseCbor"><span class="hs-identifier hs-var">deserialiseCbor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Address
</span><a href="Cardano.Address.html#unsafeMkAddress"><span class="hs-identifier hs-var">unsafeMkAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Address)
-&gt; Decoder s ByteString -&gt; Decoder s Address
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s ByteString
forall s. Decoder s ByteString
</span><a href="Cardano.Codec.Cbor.html#decodeAddress"><span class="hs-identifier hs-var">decodeAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; Maybe Address)
-&gt; (Text -&gt; Maybe ByteString) -&gt; Text -&gt; Maybe Address
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&lt;=&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either String ByteString -&gt; Maybe ByteString
forall a b. Either a b -&gt; Maybe b
</span><span class="hs-identifier hs-var">eitherToMaybe</span></span><span> </span><span class="annot"><span class="annottext">(Either String ByteString -&gt; Maybe ByteString)
-&gt; (Text -&gt; Either String ByteString) -&gt; Text -&gt; Maybe ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ByteString
</span><a href="Codec.Binary.Encoding.html#fromBase58"><span class="hs-identifier hs-var">E.fromBase58</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String ByteString)
-&gt; (Text -&gt; ByteString) -&gt; Text -&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">T.encodeUtf8</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Encode a Shelley 'Address' to bech32 'Text', using @addr@ or @addr_test@ as</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- a human readable prefix (depending on the network tag in the address).</span><span>
</span><span id="line-111"></span><span class="hs-comment">--</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-113"></span><span class="annot"><a href="Cardano.Address.html#bech32"><span class="hs-identifier hs-type">bech32</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-114"></span><span id="bech32"><span class="annot"><span class="annottext">bech32 :: Address -&gt; Text
</span><a href="Cardano.Address.html#bech32"><span class="hs-identifier hs-var hs-var">bech32</span></a></span></span><span> </span><span id="local-6989586621679134290"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679134290"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HumanReadablePart -&gt; Address -&gt; Text
</span><a href="Cardano.Address.html#bech32With"><span class="hs-identifier hs-var">bech32With</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; HumanReadablePart
</span><a href="Cardano.Address.html#addressHrp"><span class="hs-identifier hs-var">addressHrp</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679134290"><span class="hs-identifier hs-var">addr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679134290"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Encode an 'Address' to bech32 'Text', using the specified human readable</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- prefix.</span><span>
</span><span id="line-118"></span><span class="hs-comment">--</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-120"></span><span class="annot"><a href="Cardano.Address.html#bech32With"><span class="hs-identifier hs-type">bech32With</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HumanReadablePart</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-121"></span><span id="bech32With"><span class="annot"><span class="annottext">bech32With :: HumanReadablePart -&gt; Address -&gt; Text
</span><a href="Cardano.Address.html#bech32With"><span class="hs-identifier hs-var hs-var">bech32With</span></a></span></span><span> </span><span id="local-6989586621679134288"><span class="annot"><span class="annottext">HumanReadablePart
</span><a href="#local-6989586621679134288"><span class="hs-identifier hs-var">hrp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">T.decodeLatin1</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text) -&gt; (Address -&gt; ByteString) -&gt; Address -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; ByteString -&gt; ByteString
</span><a href="Codec.Binary.Encoding.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HumanReadablePart -&gt; Encoding
forall a. a -&gt; AbstractEncoding a
</span><a href="Codec.Binary.Encoding.html#EBech32"><span class="hs-identifier hs-var">EBech32</span></a></span><span> </span><span class="annot"><span class="annottext">HumanReadablePart
</span><a href="#local-6989586621679134288"><span class="hs-identifier hs-var">hrp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Address -&gt; ByteString) -&gt; Address -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Address -&gt; ByteString
</span><a href="Cardano.Address.html#unAddress"><span class="hs-identifier hs-var hs-var">unAddress</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- | Decode a bech32-encoded 'Text' into an 'Address'</span><span>
</span><span id="line-124"></span><span class="hs-comment">--</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-126"></span><span class="annot"><a href="Cardano.Address.html#fromBech32"><span class="hs-identifier hs-type">fromBech32</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-127"></span><span id="fromBech32"><span class="annot"><span class="annottext">fromBech32 :: Text -&gt; Maybe Address
</span><a href="Cardano.Address.html#fromBech32"><span class="hs-identifier hs-var hs-var">fromBech32</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either String Address -&gt; Maybe Address
forall a b. Either a b -&gt; Maybe b
</span><span class="hs-identifier hs-var">eitherToMaybe</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="annottext">(Either String Address -&gt; Maybe Address)
-&gt; (Text -&gt; Either String Address) -&gt; Text -&gt; Maybe Address
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((HumanReadablePart, ByteString) -&gt; Address)
-&gt; Either String (HumanReadablePart, ByteString)
-&gt; Either String Address
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Address
</span><a href="Cardano.Address.html#unsafeMkAddress"><span class="hs-identifier hs-var">unsafeMkAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Address)
-&gt; ((HumanReadablePart, ByteString) -&gt; ByteString)
-&gt; (HumanReadablePart, ByteString)
-&gt; Address
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(HumanReadablePart, ByteString) -&gt; ByteString
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="annottext">(Either String (HumanReadablePart, ByteString)
 -&gt; Either String Address)
-&gt; (Text -&gt; Either String (HumanReadablePart, ByteString))
-&gt; Text
-&gt; Either String Address
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; ShowS)
-&gt; ByteString -&gt; Either String (HumanReadablePart, ByteString)
</span><a href="Codec.Binary.Encoding.html#fromBech32"><span class="hs-identifier hs-var">E.fromBech32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS -&gt; [Int] -&gt; ShowS
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String (HumanReadablePart, ByteString))
-&gt; (Text -&gt; ByteString)
-&gt; Text
-&gt; Either String (HumanReadablePart, ByteString)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">T.encodeUtf8</span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | Returns the HRP for a shelley address, using the network tag.</span><span>
</span><span id="line-133"></span><span class="annot"><a href="Cardano.Address.html#addressHrp"><span class="hs-identifier hs-type">addressHrp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HumanReadablePart</span></span><span>
</span><span id="line-134"></span><span id="addressHrp"><span class="annot"><span class="annottext">addressHrp :: Address -&gt; HumanReadablePart
</span><a href="Cardano.Address.html#addressHrp"><span class="hs-identifier hs-var hs-var">addressHrp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span id="local-6989586621679134282"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679134282"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe (Word8, ByteString)
</span><span class="hs-identifier hs-var">BS.uncons</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679134282"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679134280"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679134280"><span class="hs-identifier hs-var">w8</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679134280"><span class="hs-identifier hs-var">w8</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HumanReadablePart
</span><a href="Cardano.Codec.Bech32.Prefixes.html#addr"><span class="hs-identifier hs-var">CIP5.addr</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="annottext">Maybe (Word8, ByteString)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HumanReadablePart
</span><a href="Cardano.Codec.Bech32.Prefixes.html#addr_test"><span class="hs-identifier hs-var">CIP5.addr_test</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | Encoding of addresses for certain key types and backend targets.</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-141"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Cardano.Address.html#HasNetworkDiscriminant"><span class="hs-identifier hs-type">HasNetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134277"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="StakeAddress"><span class="annot"><a href="Cardano.Address.html#StakeAddress"><span class="hs-identifier hs-var">StakeAddress</span></a></span></span><span> </span><span id="local-6989586621679134277"><span class="annot"><a href="#local-6989586621679134277"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- | Convert a delegation key to a stake 'Address' (aka: reward account address)</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-comment">-- valid for the given network discrimination.</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-146"></span><span>    </span><span id="stakeAddress"><span class="annot"><a href="Cardano.Address.html#stakeAddress"><span class="hs-identifier hs-type">stakeAddress</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-type">NetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134277"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679134277"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Address.Derivation.html#DelegationK"><span class="hs-identifier hs-type">DelegationK</span></a></span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#XPub"><span class="hs-identifier hs-type">XPub</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- | Encoding of addresses for certain key types and backend targets.</span><span>
</span><span id="line-149"></span><span class="hs-comment">--</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-151"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Cardano.Address.html#HasNetworkDiscriminant"><span class="hs-identifier hs-type">HasNetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134273"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="PaymentAddress"><span class="annot"><a href="Cardano.Address.html#PaymentAddress"><span class="hs-identifier hs-var">PaymentAddress</span></a></span></span><span> </span><span id="local-6989586621679134273"><span class="annot"><a href="#local-6989586621679134273"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-comment">-- | Convert a public key to a payment 'Address' valid for the given</span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-comment">-- network discrimination.</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">-- @since 1.0.0</span><span>
</span><span id="line-156"></span><span>    </span><span id="paymentAddress"><span class="annot"><a href="Cardano.Address.html#paymentAddress"><span class="hs-identifier hs-type">paymentAddress</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-type">NetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134273"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679134273"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Address.Derivation.html#PaymentK"><span class="hs-identifier hs-type">PaymentK</span></a></span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#XPub"><span class="hs-identifier hs-type">XPub</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- | Encoding of delegation addresses for certain key types and backend targets.</span><span>
</span><span id="line-159"></span><span class="hs-comment">--</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-161"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Cardano.Address.html#PaymentAddress"><span class="hs-identifier hs-type">PaymentAddress</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134270"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span id="DelegationAddress"><span class="annot"><a href="Cardano.Address.html#DelegationAddress"><span class="hs-identifier hs-var">DelegationAddress</span></a></span></span><span> </span><span id="local-6989586621679134270"><span class="annot"><a href="#local-6989586621679134270"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-comment">-- | Convert a public key and a delegation key to a delegation 'Address' valid</span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-comment">-- for the given network discrimination. Funds sent to this address will be</span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-comment">-- delegated according to the delegation settings attached to the delegation</span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-comment">-- key.</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-169"></span><span>    </span><span id="delegationAddress"><span class="annot"><a href="Cardano.Address.html#delegationAddress"><span class="hs-identifier hs-type">delegationAddress</span></a></span></span><span>
</span><span id="line-170"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-type">NetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134270"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-171"></span><span>        </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="#local-6989586621679134270"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Address.Derivation.html#PaymentK"><span class="hs-identifier hs-type">PaymentK</span></a></span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#XPub"><span class="hs-identifier hs-type">XPub</span></a></span><span>
</span><span id="line-172"></span><span>            </span><span class="hs-comment">-- ^ Payment key</span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="#local-6989586621679134270"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Address.Derivation.html#DelegationK"><span class="hs-identifier hs-type">DelegationK</span></a></span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#XPub"><span class="hs-identifier hs-type">XPub</span></a></span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-comment">-- ^ Delegation key</span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-comment">-- | A 'ChainPointer' type representing location of some object</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- in the blockchain (eg., delegation certificate). This can be achieved</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- unambiguously by specifying slot number, transaction index and the index</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- in the object list (eg., certification list).</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- For delegation certificates, alternatively, the delegation key can be used and</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- then 'DelegationAddress' can be used.</span><span>
</span><span id="line-183"></span><span class="hs-comment">--</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-185"></span><span id="local-6989586621679134267"><span id="local-6989586621679134268"></span></span><span class="hs-keyword">data</span><span> </span><span id="ChainPointer"><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier hs-var">ChainPointer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ChainPointer"><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier hs-var">ChainPointer</span></a></span></span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="slotNum"><span class="annot"><span class="annottext">ChainPointer -&gt; Natural
</span><a href="Cardano.Address.html#slotNum"><span class="hs-identifier hs-var hs-var">slotNum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span>
</span><span id="line-187"></span><span>      </span><span class="hs-comment">-- ^ Pointer to the slot</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="transactionIndex"><span class="annot"><span class="annottext">ChainPointer -&gt; Natural
</span><a href="Cardano.Address.html#transactionIndex"><span class="hs-identifier hs-var hs-var">transactionIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span>
</span><span id="line-189"></span><span>      </span><span class="hs-comment">-- ^ transaction index</span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="outputIndex"><span class="annot"><span class="annottext">ChainPointer -&gt; Natural
</span><a href="Cardano.Address.html#outputIndex"><span class="hs-identifier hs-var hs-var">outputIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span>
</span><span id="line-191"></span><span>      </span><span class="hs-comment">-- ^ output list index</span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. ChainPointer -&gt; Rep ChainPointer x)
-&gt; (forall x. Rep ChainPointer x -&gt; ChainPointer)
-&gt; Generic ChainPointer
forall x. Rep ChainPointer x -&gt; ChainPointer
forall x. ChainPointer -&gt; Rep ChainPointer x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ChainPointer x -&gt; ChainPointer
$cfrom :: forall x. ChainPointer -&gt; Rep ChainPointer x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134255"><span id="local-6989586621679134257"><span id="local-6989586621679134259"><span class="annot"><span class="annottext">Int -&gt; ChainPointer -&gt; ShowS
[ChainPointer] -&gt; ShowS
ChainPointer -&gt; String
(Int -&gt; ChainPointer -&gt; ShowS)
-&gt; (ChainPointer -&gt; String)
-&gt; ([ChainPointer] -&gt; ShowS)
-&gt; Show ChainPointer
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ChainPointer] -&gt; ShowS
$cshowList :: [ChainPointer] -&gt; ShowS
show :: ChainPointer -&gt; String
$cshow :: ChainPointer -&gt; String
showsPrec :: Int -&gt; ChainPointer -&gt; ShowS
$cshowsPrec :: Int -&gt; ChainPointer -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134251"><span id="local-6989586621679134253"><span class="annot"><span class="annottext">ChainPointer -&gt; ChainPointer -&gt; Bool
(ChainPointer -&gt; ChainPointer -&gt; Bool)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; Bool) -&gt; Eq ChainPointer
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ChainPointer -&gt; ChainPointer -&gt; Bool
$c/= :: ChainPointer -&gt; ChainPointer -&gt; Bool
== :: ChainPointer -&gt; ChainPointer -&gt; Bool
$c== :: ChainPointer -&gt; ChainPointer -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134236"><span id="local-6989586621679134238"><span id="local-6989586621679134240"><span id="local-6989586621679134242"><span id="local-6989586621679134244"><span id="local-6989586621679134246"><span id="local-6989586621679134248"><span class="annot"><span class="annottext">Eq ChainPointer
Eq ChainPointer
-&gt; (ChainPointer -&gt; ChainPointer -&gt; Ordering)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; Bool)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; Bool)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; Bool)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; Bool)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; ChainPointer)
-&gt; (ChainPointer -&gt; ChainPointer -&gt; ChainPointer)
-&gt; Ord ChainPointer
ChainPointer -&gt; ChainPointer -&gt; Bool
ChainPointer -&gt; ChainPointer -&gt; Ordering
ChainPointer -&gt; ChainPointer -&gt; ChainPointer
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ChainPointer -&gt; ChainPointer -&gt; ChainPointer
$cmin :: ChainPointer -&gt; ChainPointer -&gt; ChainPointer
max :: ChainPointer -&gt; ChainPointer -&gt; ChainPointer
$cmax :: ChainPointer -&gt; ChainPointer -&gt; ChainPointer
&gt;= :: ChainPointer -&gt; ChainPointer -&gt; Bool
$c&gt;= :: ChainPointer -&gt; ChainPointer -&gt; Bool
&gt; :: ChainPointer -&gt; ChainPointer -&gt; Bool
$c&gt; :: ChainPointer -&gt; ChainPointer -&gt; Bool
&lt;= :: ChainPointer -&gt; ChainPointer -&gt; Bool
$c&lt;= :: ChainPointer -&gt; ChainPointer -&gt; Bool
&lt; :: ChainPointer -&gt; ChainPointer -&gt; Bool
$c&lt; :: ChainPointer -&gt; ChainPointer -&gt; Bool
compare :: ChainPointer -&gt; ChainPointer -&gt; Ordering
$ccompare :: ChainPointer -&gt; ChainPointer -&gt; Ordering
$cp1Ord :: Eq ChainPointer
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679134234"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier hs-type">ChainPointer</span></a></span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679134227"><span id="local-6989586621679134229"><span id="local-6989586621679134231"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier hs-type">ChainPointer</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679134225"><span class="annot"><span class="annottext">toJSON :: ChainPointer -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier hs-type">ChainPointer</span></a></span><span class="hs-special">{</span><span id="local-6989586621679134221"><span id="local-6989586621679134222"><span id="local-6989586621679134223"><span class="annot"><span class="annottext">Natural
outputIndex :: Natural
transactionIndex :: Natural
slotNum :: Natural
outputIndex :: ChainPointer -&gt; Natural
transactionIndex :: ChainPointer -&gt; Natural
slotNum :: ChainPointer -&gt; Natural
</span><a href="#local-6989586621679134221"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">object</span></span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;slot_num&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Natural -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679134223"><span class="hs-identifier hs-var">slotNum</span></a></span><span>
</span><span id="line-198"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;transaction_index&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Natural -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679134222"><span class="hs-identifier hs-var">transactionIndex</span></a></span><span>
</span><span id="line-199"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;output_index&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Natural -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Text -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679134221"><span class="hs-identifier hs-var">outputIndex</span></a></span><span>
</span><span id="line-200"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- | Encoding of pointer addresses for payment key type, pointer to delegation</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- certificate in the blockchain and backend targets.</span><span>
</span><span id="line-204"></span><span class="hs-comment">--</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-206"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Cardano.Address.html#PaymentAddress"><span class="hs-identifier hs-type">PaymentAddress</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134220"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span id="PointerAddress"><span class="annot"><a href="Cardano.Address.html#PointerAddress"><span class="hs-identifier hs-var">PointerAddress</span></a></span></span><span> </span><span id="local-6989586621679134220"><span class="annot"><a href="#local-6989586621679134220"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-comment">-- | Convert a payment public key and a pointer to delegation key in the</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-comment">-- blockchain to a delegation 'Address' valid for the given network</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-comment">-- discrimination. Funds sent to this address will be delegated according to</span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-comment">-- the delegation settings attached to the delegation key located by</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-comment">-- 'ChainPointer'.</span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-comment">-- @since 2.0.0</span><span>
</span><span id="line-215"></span><span>    </span><span id="pointerAddress"><span class="annot"><a href="Cardano.Address.html#pointerAddress"><span class="hs-identifier hs-type">pointerAddress</span></a></span></span><span>
</span><span id="line-216"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-type">NetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134220"><span class="hs-identifier hs-type">key</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="#local-6989586621679134220"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Cardano.Address.Derivation.html#PaymentK"><span class="hs-identifier hs-type">PaymentK</span></a></span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#XPub"><span class="hs-identifier hs-type">XPub</span></a></span><span>
</span><span id="line-218"></span><span>            </span><span class="hs-comment">-- ^ Payment key</span><span>
</span><span id="line-219"></span><span>        </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="Cardano.Address.html#ChainPointer"><span class="hs-identifier hs-type">ChainPointer</span></a></span><span>
</span><span id="line-220"></span><span>            </span><span class="hs-comment">-- ^ Pointer to locate delegation key in blockchain</span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-keyword">class</span><span> </span><span id="HasNetworkDiscriminant"><span class="annot"><a href="Cardano.Address.html#HasNetworkDiscriminant"><span class="hs-identifier hs-var">HasNetworkDiscriminant</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679134218"><span class="annot"><a href="#local-6989586621679134218"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.Derivation.html#Depth"><span class="hs-identifier hs-type">Depth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="NetworkDiscriminant"><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-var">NetworkDiscriminant</span></a></span></span><span> </span><span id="local-6989586621679134218"><span class="annot"><a href="#local-6989586621679134218"><span class="hs-identifier hs-type">key</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>    </span><span id="addressDiscrimination"><span class="annot"><a href="Cardano.Address.html#addressDiscrimination"><span class="hs-identifier hs-type">addressDiscrimination</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-type">NetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134218"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#AddressDiscrimination"><span class="hs-identifier hs-type">AddressDiscrimination</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span id="networkTag"><span class="annot"><a href="Cardano.Address.html#networkTag"><span class="hs-identifier hs-type">networkTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkDiscriminant"><span class="hs-identifier hs-type">NetworkDiscriminant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679134218"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-type">NetworkTag</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- Magic constant associated with a given network. This is mainly used in two</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- places:</span><span>
</span><span id="line-231"></span><span class="hs-comment">--</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- (1) In 'Address' payloads, to discriminate addresses between networks.</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- (2) At the network-level, when doing handshake with nodes.</span><span>
</span><span id="line-234"></span><span id="local-6989586621679134214"><span id="local-6989586621679134215"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="NetworkTag"><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-var">NetworkTag</span></a></span></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="NetworkTag"><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-var">NetworkTag</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unNetworkTag"><span class="annot"><span class="annottext">NetworkTag -&gt; Word32
</span><a href="Cardano.Address.html#unNetworkTag"><span class="hs-identifier hs-var hs-var">unNetworkTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. NetworkTag -&gt; Rep NetworkTag x)
-&gt; (forall x. Rep NetworkTag x -&gt; NetworkTag) -&gt; Generic NetworkTag
forall x. Rep NetworkTag x -&gt; NetworkTag
forall x. NetworkTag -&gt; Rep NetworkTag x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep NetworkTag x -&gt; NetworkTag
$cfrom :: forall x. NetworkTag -&gt; Rep NetworkTag x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134204"><span id="local-6989586621679134206"><span id="local-6989586621679134208"><span class="annot"><span class="annottext">Int -&gt; NetworkTag -&gt; ShowS
[NetworkTag] -&gt; ShowS
NetworkTag -&gt; String
(Int -&gt; NetworkTag -&gt; ShowS)
-&gt; (NetworkTag -&gt; String)
-&gt; ([NetworkTag] -&gt; ShowS)
-&gt; Show NetworkTag
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [NetworkTag] -&gt; ShowS
$cshowList :: [NetworkTag] -&gt; ShowS
show :: NetworkTag -&gt; String
$cshow :: NetworkTag -&gt; String
showsPrec :: Int -&gt; NetworkTag -&gt; ShowS
$cshowsPrec :: Int -&gt; NetworkTag -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134200"><span id="local-6989586621679134202"><span class="annot"><span class="annottext">NetworkTag -&gt; NetworkTag -&gt; Bool
(NetworkTag -&gt; NetworkTag -&gt; Bool)
-&gt; (NetworkTag -&gt; NetworkTag -&gt; Bool) -&gt; Eq NetworkTag
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: NetworkTag -&gt; NetworkTag -&gt; Bool
$c/= :: NetworkTag -&gt; NetworkTag -&gt; Bool
== :: NetworkTag -&gt; NetworkTag -&gt; Bool
$c== :: NetworkTag -&gt; NetworkTag -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679134198"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-type">NetworkTag</span></a></span></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679134191"><span id="local-6989586621679134193"><span id="local-6989586621679134195"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-type">NetworkTag</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>    </span><span id="local-6989586621679134190"><span class="annot"><span class="annottext">toJSON :: NetworkTag -&gt; Value
</span><a href="#local-6989586621679134190"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-type">NetworkTag</span></a></span><span> </span><span id="local-6989586621679134189"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134189"><span class="hs-identifier hs-var">net</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Number</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; Scientific
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134189"><span class="hs-identifier hs-var">net</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- Describe requirements for address discrimination on the Byron era.</span><span>
</span><span id="line-243"></span><span id="local-6989586621679134186"><span id="local-6989586621679134187"></span></span><span class="hs-keyword">data</span><span> </span><span id="AddressDiscrimination"><span class="annot"><a href="Cardano.Address.html#AddressDiscrimination"><span class="hs-identifier hs-var">AddressDiscrimination</span></a></span></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="RequiresNetworkTag"><span class="annot"><a href="Cardano.Address.html#RequiresNetworkTag"><span class="hs-identifier hs-var">RequiresNetworkTag</span></a></span></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="RequiresNoTag"><span class="annot"><a href="Cardano.Address.html#RequiresNoTag"><span class="hs-identifier hs-var">RequiresNoTag</span></a></span></span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. AddressDiscrimination -&gt; Rep AddressDiscrimination x)
-&gt; (forall x. Rep AddressDiscrimination x -&gt; AddressDiscrimination)
-&gt; Generic AddressDiscrimination
forall x. Rep AddressDiscrimination x -&gt; AddressDiscrimination
forall x. AddressDiscrimination -&gt; Rep AddressDiscrimination x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep AddressDiscrimination x -&gt; AddressDiscrimination
$cfrom :: forall x. AddressDiscrimination -&gt; Rep AddressDiscrimination x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134176"><span id="local-6989586621679134178"><span id="local-6989586621679134180"><span class="annot"><span class="annottext">Int -&gt; AddressDiscrimination -&gt; ShowS
[AddressDiscrimination] -&gt; ShowS
AddressDiscrimination -&gt; String
(Int -&gt; AddressDiscrimination -&gt; ShowS)
-&gt; (AddressDiscrimination -&gt; String)
-&gt; ([AddressDiscrimination] -&gt; ShowS)
-&gt; Show AddressDiscrimination
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [AddressDiscrimination] -&gt; ShowS
$cshowList :: [AddressDiscrimination] -&gt; ShowS
show :: AddressDiscrimination -&gt; String
$cshow :: AddressDiscrimination -&gt; String
showsPrec :: Int -&gt; AddressDiscrimination -&gt; ShowS
$cshowsPrec :: Int -&gt; AddressDiscrimination -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679134172"><span id="local-6989586621679134174"><span class="annot"><span class="annottext">AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool
(AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool)
-&gt; (AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool)
-&gt; Eq AddressDiscrimination
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool
$c/= :: AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool
== :: AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool
$c== :: AddressDiscrimination -&gt; AddressDiscrimination -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679134170"><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="Cardano.Address.html#AddressDiscrimination"><span class="hs-identifier hs-type">AddressDiscrimination</span></a></span></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="annot"><a href="Cardano.Address.html#invariantSize"><span class="hs-identifier hs-type">invariantSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ByteString</span></span><span>
</span><span id="line-250"></span><span id="invariantSize"><span class="annot"><span class="annottext">invariantSize :: Int -&gt; ByteString -&gt; ByteString
</span><a href="Cardano.Address.html#invariantSize"><span class="hs-identifier hs-var hs-var">invariantSize</span></a></span></span><span> </span><span id="local-6989586621679134169"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679134169"><span class="hs-identifier hs-var">expectedLength</span></a></span></span><span> </span><span id="local-6989586621679134168"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679134168"><span class="hs-identifier hs-var">bytes</span></a></span></span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679134168"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679134169"><span class="hs-identifier hs-var">expectedLength</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679134168"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><span class="annottext">(String -&gt; ByteString) -&gt; String -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;length was &quot;</span></span><span>
</span><span id="line-254"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><span class="hs-identifier hs-var">BS.length</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679134168"><span class="hs-identifier hs-var">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, but expected to be &quot;</span></span><span>
</span><span id="line-256"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679134169"><span class="hs-identifier hs-var">expectedLength</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="annot"><a href="Cardano.Address.html#invariantNetworkTag"><span class="hs-identifier hs-type">invariantNetworkTag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-type">NetworkTag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-259"></span><span id="invariantNetworkTag"><span class="annot"><span class="annottext">invariantNetworkTag :: Word32 -&gt; NetworkTag -&gt; Word8
</span><a href="Cardano.Address.html#invariantNetworkTag"><span class="hs-identifier hs-var hs-var">invariantNetworkTag</span></a></span></span><span> </span><span id="local-6989586621679134164"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134164"><span class="hs-identifier hs-var">limit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Address.html#NetworkTag"><span class="hs-identifier hs-type">NetworkTag</span></a></span><span> </span><span id="local-6989586621679134163"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134163"><span class="hs-identifier hs-var">num</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134163"><span class="hs-identifier hs-var">num</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word32 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134164"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134163"><span class="hs-identifier hs-var">num</span></a></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Word8
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><span class="annottext">(String -&gt; Word8) -&gt; String -&gt; Word8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;network tag was &quot;</span></span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134163"><span class="hs-identifier hs-var">num</span></a></span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, but expected to be less than &quot;</span></span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621679134164"><span class="hs-identifier hs-var">limit</span></a></span><span>
</span><span id="line-266"></span></pre></body></html>